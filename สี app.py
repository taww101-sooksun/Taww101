import streamlit as st
import google.generativeai as genai

# 1. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ AI (‡πÉ‡∏™‡πà API Key ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ)
genai.configure(api_key="YOUR_GEMINI_API_KEY")
model = genai.GenerativeModel('gemini-pro')

st.title("ü§ñ AI Assistant Chat")
st.subheader("‡πÅ‡∏ä‡∏ï‡πÄ‡∏ô‡∏µ‡∏¢‡∏ô‡πÜ ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏Ñ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏¥‡πà‡∏á‡πÜ")

# 2. ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô (‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏∞‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å Database)
friend_msg = st.text_input("‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≤‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô:", value="‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ‡πÑ‡∏õ‡∏Å‡∏¥‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡∏Å‡∏±‡∏ô‡πÑ‡∏´‡∏°?")

if friend_msg:
    st.write(f"üí¨ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤: {friend_msg}")
    
    # 3. ‡πÉ‡∏´‡πâ AI ‡∏£‡πà‡∏≤‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏°‡∏≤‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 3 ‡πÅ‡∏ö‡∏ö
    st.write("---")
    st.write("üß† AI ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏ï‡∏≠‡∏ö‡∏ß‡πà‡∏≤:")
    
    # ‡∏™‡∏±‡πà‡∏á AI ‡πÉ‡∏´‡πâ‡∏Ñ‡∏¥‡∏î‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö
    prompt = f"‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á‡∏°‡∏≤‡∏ß‡πà‡∏≤ '{friend_msg}' ‡∏ä‡πà‡∏ß‡∏¢‡∏£‡πà‡∏≤‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏™‡∏±‡πâ‡∏ô‡πÜ 3 ‡∏™‡πÑ‡∏ï‡∏•‡πå: 1.‡πÑ‡∏õ 2.‡πÑ‡∏°‡πà‡πÑ‡∏õ‡πÅ‡∏ö‡∏ö‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏ô‡πâ‡∏≥‡πÉ‡∏à 3.‡∏Å‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ó"
    
    try:
        response = model.generate_content(prompt)
        # ‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ß‡πà‡∏≤‡πÑ‡∏î‡πâ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÅ‡∏¢‡∏Å‡πÄ‡∏õ‡πá‡∏ô 3 ‡∏Ç‡πâ‡∏≠
        suggestions = response.text.split('\n') 
        
        # 4. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏´‡πâ‡∏Å‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏Å (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏≠‡∏á)
        col1, col2, col3 = st.columns(3)
        
        with col1:
            if st.button(suggestions[0] if len(suggestions) > 0 else "‡∏ï‡∏Å‡∏•‡∏á"):
                st.success("‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà 1 ‡πÅ‡∏•‡πâ‡∏ß!")
                
        with col2:
            if st.button(suggestions[1] if len(suggestions) > 1 else "‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏á"):
                st.info("‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà 2 ‡πÅ‡∏•‡πâ‡∏ß!")
                
        with col3:
            if st.button(suggestions[2] if len(suggestions) > 2 else "‡∏ñ‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á?"):
                st.warning("‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà 3 ‡πÅ‡∏•‡πâ‡∏ß!")
                
    except Exception as e:
        st.error(f"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î (‡∏ï‡∏±‡∏ß‡πÅ‡∏î‡∏á): {e}")

st.write("---")
st.caption("‡∏™‡πÇ‡∏•‡πÅ‡∏Å‡∏ô: ‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏¥‡πà‡∏á‡πÜ ‡πÑ‡∏°‡πà‡πÄ‡∏à‡πá‡∏ö‡∏ï‡∏±‡∏ß")
